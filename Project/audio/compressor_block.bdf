/*
WARNING: Do NOT edit the input and output ports in this file in a text
editor if you plan to continue editing the block that represents it in
the Block Editor! File corruption is VERY likely to occur.
*/
/*
Copyright (C) 1991-2010 Altera Corporation
Your use of Altera Corporation's design tools, logic functions 
and other software and tools, and its AMPP partner logic 
functions, and any output files from any of the foregoing 
(including device programming or simulation files), and any 
associated documentation or information are expressly subject 
to the terms and conditions of the Altera Program License 
Subscription Agreement, Altera MegaCore Function License 
Agreement, or other applicable license agreement, including, 
without limitation, that your use is for the sole purpose of 
programming logic devices manufactured by Altera and sold by 
Altera or its authorized distributors.  Please refer to the 
applicable agreement for further details.
*/
//#pragma file_not_in_maxplusii_format
(header "graphic" (version "1.3"))
(pin
	(input)
	(rect -152 184 16 200)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "clk" (rect 5 0 19 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 92 12)(pt 117 12)(line_width 1))
		(line (pt 92 4)(pt 117 4)(line_width 1))
		(line (pt 121 8)(pt 168 8)(line_width 1))
		(line (pt 92 12)(pt 92 4)(line_width 1))
		(line (pt 117 4)(pt 121 8)(line_width 1))
		(line (pt 117 12)(pt 121 8)(line_width 1))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect -152 200 16 216)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "lrclk" (rect 5 0 25 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 92 12)(pt 117 12)(line_width 1))
		(line (pt 92 4)(pt 117 4)(line_width 1))
		(line (pt 121 8)(pt 168 8)(line_width 1))
		(line (pt 92 12)(pt 92 4)(line_width 1))
		(line (pt 117 4)(pt 121 8)(line_width 1))
		(line (pt 117 12)(pt 121 8)(line_width 1))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect -152 216 16 232)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "reset" (rect 5 0 29 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 92 12)(pt 117 12)(line_width 1))
		(line (pt 92 4)(pt 117 4)(line_width 1))
		(line (pt 121 8)(pt 168 8)(line_width 1))
		(line (pt 92 12)(pt 92 4)(line_width 1))
		(line (pt 117 4)(pt 121 8)(line_width 1))
		(line (pt 117 12)(pt 121 8)(line_width 1))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect -176 232 16 248)
	(text "INPUT" (rect 157 0 185 10)(font "Arial" (font_size 6)))
	(text "sample_in_left[15..0]" (rect 5 0 108 12)(font "Arial" ))
	(pt 192 8)
	(drawing
		(line (pt 116 12)(pt 141 12)(line_width 1))
		(line (pt 116 4)(pt 141 4)(line_width 1))
		(line (pt 145 8)(pt 192 8)(line_width 1))
		(line (pt 116 12)(pt 116 4)(line_width 1))
		(line (pt 141 4)(pt 145 8)(line_width 1))
		(line (pt 141 12)(pt 145 8)(line_width 1))
	)
	(text "VCC" (rect 160 7 180 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect -184 248 16 264)
	(text "INPUT" (rect 165 0 193 10)(font "Arial" (font_size 6)))
	(text "sample_in_right[15..0]" (rect 5 0 113 12)(font "Arial" ))
	(pt 200 8)
	(drawing
		(line (pt 124 12)(pt 149 12)(line_width 1))
		(line (pt 124 4)(pt 149 4)(line_width 1))
		(line (pt 153 8)(pt 200 8)(line_width 1))
		(line (pt 124 12)(pt 124 4)(line_width 1))
		(line (pt 149 4)(pt 153 8)(line_width 1))
		(line (pt 149 12)(pt 153 8)(line_width 1))
	)
	(text "VCC" (rect 168 7 188 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect -152 264 16 280)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "gain[7..0]" (rect 5 0 51 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 92 12)(pt 117 12)(line_width 1))
		(line (pt 92 4)(pt 117 4)(line_width 1))
		(line (pt 121 8)(pt 168 8)(line_width 1))
		(line (pt 92 12)(pt 92 4)(line_width 1))
		(line (pt 117 4)(pt 121 8)(line_width 1))
		(line (pt 117 12)(pt 121 8)(line_width 1))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect -152 280 16 296)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "threshold[15..0]" (rect 5 0 81 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 92 12)(pt 117 12)(line_width 1))
		(line (pt 92 4)(pt 117 4)(line_width 1))
		(line (pt 121 8)(pt 168 8)(line_width 1))
		(line (pt 92 12)(pt 92 4)(line_width 1))
		(line (pt 117 4)(pt 121 8)(line_width 1))
		(line (pt 117 12)(pt 121 8)(line_width 1))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(output)
	(rect 904 360 1094 376)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "over_threshold_left" (rect 90 0 185 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 52 4)(pt 78 4)(line_width 1))
		(line (pt 52 12)(pt 78 12)(line_width 1))
		(line (pt 52 12)(pt 52 4)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 82 8)(pt 78 12)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
	)
)
(pin
	(output)
	(rect 904 256 1114 272)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "sample_out_right[15..0]" (rect 90 0 205 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 52 4)(pt 78 4)(line_width 1))
		(line (pt 52 12)(pt 78 12)(line_width 1))
		(line (pt 52 12)(pt 52 4)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 82 8)(pt 78 12)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
	)
)
(pin
	(output)
	(rect 904 384 1099 400)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "over_threshold_right" (rect 90 0 190 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 52 4)(pt 78 4)(line_width 1))
		(line (pt 52 12)(pt 78 12)(line_width 1))
		(line (pt 52 12)(pt 52 4)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 82 8)(pt 78 12)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
	)
)
(pin
	(output)
	(rect 904 232 1109 248)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "sample_out_left[15..0]" (rect 90 0 200 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 52 4)(pt 78 4)(line_width 1))
		(line (pt 52 12)(pt 78 12)(line_width 1))
		(line (pt 52 12)(pt 52 4)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 82 8)(pt 78 12)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
	)
)
(symbol
	(rect 184 432 416 560)
	(text "runningAverage" (rect 5 0 81 12)(font "Arial" ))
	(text "inst20" (rect 8 112 37 124)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "clk" (rect 0 0 14 12)(font "Arial" ))
		(text "clk" (rect 21 27 35 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32)(line_width 1))
	)
	(port
		(pt 0 48)
		(input)
		(text "lrclk" (rect 0 0 20 12)(font "Arial" ))
		(text "lrclk" (rect 21 43 41 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48)(line_width 1))
	)
	(port
		(pt 0 64)
		(input)
		(text "reset" (rect 0 0 24 12)(font "Arial" ))
		(text "reset" (rect 21 59 45 71)(font "Arial" ))
		(line (pt 0 64)(pt 16 64)(line_width 1))
	)
	(port
		(pt 0 80)
		(input)
		(text "sample_in[15..0]" (rect 0 0 81 12)(font "Arial" ))
		(text "sample_in[15..0]" (rect 21 75 102 87)(font "Arial" ))
		(line (pt 0 80)(pt 16 80)(line_width 3))
	)
	(port
		(pt 232 32)
		(output)
		(text "average_out[15..0]" (rect 0 0 93 12)(font "Arial" ))
		(text "average_out[15..0]" (rect 118 27 211 39)(font "Arial" ))
		(line (pt 232 32)(pt 216 32)(line_width 3))
	)
	(parameter
		"PERIOD_POWER"
		"9"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(drawing
		(rectangle (rect 16 16 216 112)(line_width 1))
	)
	(annotation_block (parameter)(rect 184 336 376 368))
)
(symbol
	(rect 184 96 416 224)
	(text "runningAverage" (rect 5 0 81 12)(font "Arial" ))
	(text "inst22" (rect 8 112 37 124)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "clk" (rect 0 0 14 12)(font "Arial" ))
		(text "clk" (rect 21 27 35 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32)(line_width 1))
	)
	(port
		(pt 0 48)
		(input)
		(text "lrclk" (rect 0 0 20 12)(font "Arial" ))
		(text "lrclk" (rect 21 43 41 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48)(line_width 1))
	)
	(port
		(pt 0 64)
		(input)
		(text "reset" (rect 0 0 24 12)(font "Arial" ))
		(text "reset" (rect 21 59 45 71)(font "Arial" ))
		(line (pt 0 64)(pt 16 64)(line_width 1))
	)
	(port
		(pt 0 80)
		(input)
		(text "sample_in[15..0]" (rect 0 0 81 12)(font "Arial" ))
		(text "sample_in[15..0]" (rect 21 75 102 87)(font "Arial" ))
		(line (pt 0 80)(pt 16 80)(line_width 3))
	)
	(port
		(pt 232 32)
		(output)
		(text "average_out[15..0]" (rect 0 0 93 12)(font "Arial" ))
		(text "average_out[15..0]" (rect 118 27 211 39)(font "Arial" ))
		(line (pt 232 32)(pt 216 32)(line_width 3))
	)
	(parameter
		"PERIOD_POWER"
		"9"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(drawing
		(rectangle (rect 16 16 216 112)(line_width 1))
	)
	(annotation_block (parameter)(rect 184 296 376 328))
)
(symbol
	(rect 440 344 688 472)
	(text "compressor" (rect 5 0 62 12)(font "Arial" ))
	(text "inst12" (rect 8 112 37 124)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "sample_in[15..0]" (rect 0 0 81 12)(font "Arial" ))
		(text "sample_in[15..0]" (rect 21 27 102 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32)(line_width 3))
	)
	(port
		(pt 0 48)
		(input)
		(text "signal_volume[15..0]" (rect 0 0 102 12)(font "Arial" ))
		(text "signal_volume[15..0]" (rect 21 43 123 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48)(line_width 3))
	)
	(port
		(pt 0 64)
		(input)
		(text "gain[7..0]" (rect 0 0 46 12)(font "Arial" ))
		(text "gain[7..0]" (rect 21 59 67 71)(font "Arial" ))
		(line (pt 0 64)(pt 16 64)(line_width 3))
	)
	(port
		(pt 0 80)
		(input)
		(text "threshold[15..0]" (rect 0 0 76 12)(font "Arial" ))
		(text "threshold[15..0]" (rect 21 75 97 87)(font "Arial" ))
		(line (pt 0 80)(pt 16 80)(line_width 3))
	)
	(port
		(pt 248 32)
		(output)
		(text "sample_out[15..0]" (rect 0 0 88 12)(font "Arial" ))
		(text "sample_out[15..0]" (rect 139 27 227 39)(font "Arial" ))
		(line (pt 248 32)(pt 232 32)(line_width 3))
	)
	(port
		(pt 248 48)
		(output)
		(text "overThreshold" (rect 0 0 69 12)(font "Arial" ))
		(text "overThreshold" (rect 158 43 227 55)(font "Arial" ))
		(line (pt 248 48)(pt 232 48)(line_width 1))
	)
	(drawing
		(rectangle (rect 16 16 232 112)(line_width 1))
	)
)
(symbol
	(rect 440 208 688 336)
	(text "compressor" (rect 5 0 62 12)(font "Arial" ))
	(text "inst13" (rect 8 112 37 124)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "sample_in[15..0]" (rect 0 0 81 12)(font "Arial" ))
		(text "sample_in[15..0]" (rect 21 27 102 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32)(line_width 3))
	)
	(port
		(pt 0 48)
		(input)
		(text "signal_volume[15..0]" (rect 0 0 102 12)(font "Arial" ))
		(text "signal_volume[15..0]" (rect 21 43 123 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48)(line_width 3))
	)
	(port
		(pt 0 64)
		(input)
		(text "gain[7..0]" (rect 0 0 46 12)(font "Arial" ))
		(text "gain[7..0]" (rect 21 59 67 71)(font "Arial" ))
		(line (pt 0 64)(pt 16 64)(line_width 3))
	)
	(port
		(pt 0 80)
		(input)
		(text "threshold[15..0]" (rect 0 0 76 12)(font "Arial" ))
		(text "threshold[15..0]" (rect 21 75 97 87)(font "Arial" ))
		(line (pt 0 80)(pt 16 80)(line_width 3))
	)
	(port
		(pt 248 32)
		(output)
		(text "sample_out[15..0]" (rect 0 0 88 12)(font "Arial" ))
		(text "sample_out[15..0]" (rect 139 27 227 39)(font "Arial" ))
		(line (pt 248 32)(pt 232 32)(line_width 3))
	)
	(port
		(pt 248 48)
		(output)
		(text "overThreshold" (rect 0 0 69 12)(font "Arial" ))
		(text "overThreshold" (rect 158 43 227 55)(font "Arial" ))
		(line (pt 248 48)(pt 232 48)(line_width 1))
	)
	(drawing
		(rectangle (rect 16 16 232 112)(line_width 1))
	)
)
(connector
	(pt 440 256)
	(pt 424 256)
	(bus)
)
(connector
	(pt 440 392)
	(pt 424 392)
	(bus)
)
(connector
	(pt 16 192)
	(pt 168 192)
)
(connector
	(pt 16 208)
	(pt 152 208)
)
(connector
	(pt 16 224)
	(pt 136 224)
)
(connector
	(pt 16 256)
	(pt 120 256)
	(bus)
)
(connector
	(pt 440 376)
	(pt 120 376)
	(bus)
)
(connector
	(pt 688 240)
	(pt 904 240)
	(bus)
)
(connector
	(pt 904 264)
	(pt 720 264)
	(bus)
)
(connector
	(pt 720 376)
	(pt 720 264)
	(bus)
)
(connector
	(pt 688 376)
	(pt 720 376)
	(bus)
)
(connector
	(pt 688 256)
	(pt 704 256)
)
(connector
	(pt 688 392)
	(pt 904 392)
)
(connector
	(pt 704 368)
	(pt 904 368)
)
(connector
	(pt 704 256)
	(pt 704 368)
)
(connector
	(pt 440 408)
	(pt 408 408)
	(bus)
)
(connector
	(pt 408 272)
	(pt 408 408)
	(bus)
)
(connector
	(pt 16 272)
	(pt 408 272)
	(bus)
)
(connector
	(pt 408 272)
	(pt 440 272)
	(bus)
)
(connector
	(pt 440 424)
	(pt 392 424)
	(bus)
)
(connector
	(pt 392 288)
	(pt 392 424)
	(bus)
)
(connector
	(pt 16 288)
	(pt 392 288)
	(bus)
)
(connector
	(pt 392 288)
	(pt 440 288)
	(bus)
)
(connector
	(pt 424 128)
	(pt 416 128)
	(bus)
)
(connector
	(pt 424 256)
	(pt 424 128)
	(bus)
)
(connector
	(pt 168 128)
	(pt 184 128)
)
(connector
	(pt 152 144)
	(pt 184 144)
)
(connector
	(pt 136 160)
	(pt 184 160)
)
(connector
	(pt 120 240)
	(pt 120 176)
	(bus)
)
(connector
	(pt 120 176)
	(pt 184 176)
	(bus)
)
(connector
	(pt 16 240)
	(pt 120 240)
	(bus)
)
(connector
	(pt 120 240)
	(pt 440 240)
	(bus)
)
(connector
	(pt 424 392)
	(pt 424 464)
	(bus)
)
(connector
	(pt 424 464)
	(pt 416 464)
	(bus)
)
(connector
	(pt 168 464)
	(pt 184 464)
)
(connector
	(pt 136 496)
	(pt 184 496)
)
(connector
	(pt 120 512)
	(pt 184 512)
	(bus)
)
(connector
	(pt 152 480)
	(pt 184 480)
)
(connector
	(pt 120 256)
	(pt 120 376)
	(bus)
)
(connector
	(pt 120 376)
	(pt 120 512)
	(bus)
)
(connector
	(pt 168 128)
	(pt 168 192)
)
(connector
	(pt 168 192)
	(pt 168 464)
)
(connector
	(pt 136 160)
	(pt 136 224)
)
(connector
	(pt 136 224)
	(pt 136 496)
)
(connector
	(pt 152 144)
	(pt 152 208)
)
(connector
	(pt 152 208)
	(pt 152 480)
)
(junction (pt 168 192))
(junction (pt 120 376))
(junction (pt 120 240))
(junction (pt 136 224))
(junction (pt 152 208))
(junction (pt 408 272))
(junction (pt 392 288))
(text "For debug purposes a LED is lit if the compressor input exceeds threshold" (rect 784 336 1205 350)(font "Arial" (font_size 8)))
(text "One can change the period power parameter of the averaging modules" (rect 128 -56 532 -42)(font "Arial" (font_size 8)))
(text "to change the inertia of the compressor. WIth higher period powers" (rect 128 -40 510 -26)(font "Arial" (font_size 8)))
(text "it will be slower to react to changes of the input volume" (rect 128 -24 443 -10)(font "Arial" (font_size 8)))
(text "the gain as the volume exceeds a defined threshold." (rect 448 184 745 198)(font "Arial" (font_size 8)))
(text "The compressor amplifies the input signal but starts decreasing" (rect 448 168 807 182)(font "Arial" (font_size 8)))
